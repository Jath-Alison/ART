/*! For license information please see search.js.LICENSE.txt */
const SEARCH_COOKIE_NAME="search_grp",searchResults=new SearchResults;function SearchBox(e,t,s){function i(e){let t=0;if(e.offsetWidth)for(;e&&e!=document.body;)t+=e.offsetLeft,e=e.offsetParent;return t}function n(e){let t=0;if(e.offsetWidth)for(;e&&e!=document.body;)t+=e.offsetTop,e=e.offsetParent;return t}e&&t||alert("Missing parameters to SearchBox."),s&&""!=s||(s=".html"),this.name=e,this.resultsPath=t,this.keyTimeout=0,this.keyTimeoutLength=500,this.closeSelectionTimeout=300,this.lastSearchValue="",this.lastResultsPage="",this.hideTimeout=0,this.searchIndex=0,this.searchActive=!1,this.extension=s,this.DOMSearchField=()=>document.getElementById("MSearchField"),this.DOMSearchSelect=()=>document.getElementById("MSearchSelect"),this.DOMSearchSelectWindow=()=>document.getElementById("MSearchSelectWindow"),this.DOMPopupSearchResults=()=>document.getElementById("MSearchResults"),this.DOMPopupSearchResultsWindow=()=>document.getElementById("MSearchResultsWindow"),this.DOMSearchClose=()=>document.getElementById("MSearchClose"),this.DOMSearchBox=()=>document.getElementById("MSearchBox"),this.OnSearchFieldFocus=function(e){this.Activate(e)},this.OnSearchSelectShow=function(){const e=this.DOMSearchSelectWindow(),t=this.DOMSearchSelect(),s=i(t),o=n(t)+t.offsetHeight;return e.style.display="block",e.style.left=s+"px",e.style.top=o+"px",this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!1},this.OnSearchSelectHide=function(){this.hideTimeout=setTimeout(this.CloseSelectionWindow.bind(this),this.closeSelectionTimeout)},this.OnSearchFieldChange=function(e){this.keyTimeout&&(clearTimeout(this.keyTimeout),this.keyTimeout=0);const t=e||window.event;if(40==t.keyCode||13==t.keyCode){if(1==t.shiftKey){this.OnSearchSelectShow();const e=this.DOMSearchSelectWindow();for(let t=0;t<e.childNodes.length;t++){const s=e.childNodes[t];if("SelectItem"==s.className)return void s.focus()}return}{const e=searchResults.NavNext(0);e&&e.focus()}}else if(27==t.keyCode)return t.stopPropagation(),this.DOMSearchField().blur(),this.DOMPopupSearchResultsWindow().style.display="none",this.DOMSearchClose().style.display="none",this.lastSearchValue="",void this.Activate(!1);const s=this.DOMSearchField().value.replace(/ +/g,"");s!=this.lastSearchValue&&(""!=s?this.keyTimeout=setTimeout(this.Search.bind(this),this.keyTimeoutLength):(this.DOMPopupSearchResultsWindow().style.display="none",this.DOMSearchClose().style.display="none",this.lastSearchValue=""))},this.SelectItemCount=function(){let e=0;const t=this.DOMSearchSelectWindow();for(let s=0;s<t.childNodes.length;s++){"SelectItem"==t.childNodes[s].className&&e++}return e},this.GetSelectionIdByName=function(e){let t=0;const s=this.DOMSearchSelectWindow();for(let i=0;i<s.childNodes.length;i++){const n=s.childNodes[i];if("SelectItem"==n.className){if(n.childNodes[1].nodeValue==e)return t;t++}}return 0},this.SelectItemSet=function(e){let t=0;const s=this.DOMSearchSelectWindow();for(let i=0;i<s.childNodes.length;i++){const n=s.childNodes[i];if("SelectItem"==n.className){const s=n.firstChild;t==e?(s.innerHTML="&#8226;",Cookie.writeSetting("search_grp",n.childNodes[1].nodeValue,0)):s.innerHTML="&#160;",t++}}},this.OnSelectItem=function(e){this.searchIndex=e,this.SelectItemSet(e);""!=this.DOMSearchField().value.replace(/ +/g,"")&&this.searchActive&&this.Search()},this.OnSearchSelectKey=function(e){const t=e||window.event;return 40==t.keyCode&&this.searchIndex<this.SelectItemCount()?(this.searchIndex++,this.OnSelectItem(this.searchIndex)):38==t.keyCode&&this.searchIndex>0?(this.searchIndex--,this.OnSelectItem(this.searchIndex)):13!=t.keyCode&&27!=t.keyCode||(t.stopPropagation(),this.OnSelectItem(this.searchIndex),this.CloseSelectionWindow(),this.DOMSearchField().focus()),!1},this.CloseResultsWindow=function(){this.DOMPopupSearchResultsWindow().style.display="none",this.DOMSearchClose().style.display="none",this.Activate(!1)},this.CloseSelectionWindow=function(){this.DOMSearchSelectWindow().style.display="none"},this.Search=function(){this.keyTimeout=0;const e=this.DOMSearchField().value.replace(/^ +/,""),t=e.toLowerCase().charCodeAt(0);let s,o=e.substr(0,1).toLowerCase();55296<=t&&t<=56319&&e>1&&(o=e.substr(0,2));let l=indexSectionsWithContent[this.searchIndex].indexOf(o);if(-1!=l){const e=l.toString(16);s=this.resultsPath+indexSectionNames[this.searchIndex]+"_"+e+".js"}const c=this.DOMPopupSearchResultsWindow(),a=this.DOMSearchBox(),h=this.DOMPopupSearchResults(),r=this.DOMSearchClose(),d=this.resultsPath,u=function(){if(document.getElementById("Loading").style.display="none","undefined"!=typeof searchData&&(createResults(d),document.getElementById("NoMatches").style.display="none"),-1!=l?searchResults.Search(e):searchResults.Search("===="),"block"!=c.style.display){r.style.display="inline-block";let e=i(a)+150,t=n(a)+20;c.style.display="block",e-=h.offsetWidth;const s=document.body.clientWidth,o=document.body.clientHeight;let l=300;e<10&&(e=10),l+e+8>s&&(l=s-e-8);let d=400;d+t+8>o&&(d=o-t-8),c.style.top=t+"px",c.style.left=e+"px",c.style.width=l+"px",c.style.height=d+"px"}};s?function(e,t,s){const i=document.createElement("script");i.src=e,i.onload=t,i.onreadystatechange=t,s.appendChild(i)}(s,u,this.DOMPopupSearchResultsWindow()):u(),this.lastSearchValue=e},this.Activate=function(e){e||"block"==this.DOMPopupSearchResultsWindow().style.display?(this.DOMSearchBox().className="MSearchBoxActive",this.searchActive=!0):e||(this.DOMSearchBox().className="MSearchBoxInactive",this.searchActive=!1,this.lastSearchValue="",this.lastResultsPage="",this.DOMSearchField().value="")}}function SearchResults(){this.lastMatchCount=0,this.lastKey=0,this.repeatOn=!1,this.FindChildElement=function(e){const t=document.getElementById(e);let s=t.firstChild;for(;s&&s!=t;){if("div"==s.nodeName.toLowerCase()&&"SRChildren"==s.className)return s;if("div"==s.nodeName.toLowerCase()&&s.hasChildNodes())s=s.firstChild;else if(s.nextSibling)s=s.nextSibling;else{do{s=s.parentNode}while(s&&s!=t&&!s.nextSibling);s&&s!=t&&(s=s.nextSibling)}}},this.Toggle=function(e){const t=this.FindChildElement(e);t&&("block"==t.style.display?t.style.display="none":t.style.display="block")},this.Search=function(e){e||(e=(e=window.location.search).substring(1),e=unescape(e)),e=function(e){let t="";for(let s=0;s<e.length;s++){const i=e.charAt(s),n=i.charCodeAt(0);i.match(/[a-z0-9\u0080-\uFFFF]/)?t+=i:t+=n<16?"_0"+n.toString(16):"_"+n.toString(16)}return t}(e=(e=(e=e.replace(/^ +/,"")).replace(/ +$/,"")).toLowerCase());const t=document.getElementsByTagName("div");let s=0,i=0;for(;i<t.length;){const n=t.item(i);if("SRResult"==n.className){let t=n.id.toLowerCase();t=t.replace(/^sr\d*_/,""),e.length<=t.length&&t.substr(0,e.length)==e?(n.style.display="block",s++):n.style.display="none"}i++}return document.getElementById("Searching").style.display="none",document.getElementById("NoMatches").style.display=0==s?"block":"none",this.lastMatchCount=s,!0},this.NavNext=function(e){let t;for(;;){const s="Item"+e;if(t=document.getElementById(s),t&&"block"==t.parentNode.parentNode.style.display)break;if(!t)break;t=null,e++}return t},this.NavPrev=function(e){let t;for(;;){const s="Item"+e;if(t=document.getElementById(s),t&&"block"==t.parentNode.parentNode.style.display)break;if(!t)break;t=null,e--}return t},this.ProcessKeys=function(e){if("keydown"==e.type)this.repeatOn=!1,this.lastKey=e.keyCode;else if("keypress"==e.type){if(!this.repeatOn)return this.lastKey&&(this.repeatOn=!0),!1}else"keyup"==e.type&&(this.lastKey=0,this.repeatOn=!1);return 0!=this.lastKey},this.Nav=function(e,t){const s=e||window.event;if(13==s.keyCode)return!0;if(!this.ProcessKeys(s))return!1;if(38==this.lastKey){const e=t-1;let s=this.NavPrev(e);if(s){let t=this.FindChildElement(s.parentNode.parentNode.id);if(t&&"block"==t.style.display){let t,i=0;for(;t=document.getElementById("Item"+e+"_c"+i),t;)s=t,i++}}s?s.focus():document.getElementById("MSearchField").focus()}else if(40==this.lastKey){const e=t+1;let s;const i=document.getElementById("Item"+t),n=this.FindChildElement(i.parentNode.parentNode.id);n&&"block"==n.style.display&&(s=document.getElementById("Item"+t+"_c0")),s||(s=this.NavNext(e)),s&&s.focus()}else if(39==this.lastKey){const e=document.getElementById("Item"+t),s=this.FindChildElement(e.parentNode.parentNode.id);s&&(s.style.display="block")}else if(37==this.lastKey){const e=document.getElementById("Item"+t),s=this.FindChildElement(e.parentNode.parentNode.id);s&&(s.style.display="none")}else if(27==this.lastKey)s.stopPropagation(),searchBox.CloseResultsWindow(),document.getElementById("MSearchField").focus();else if(13==this.lastKey)return!0;return!1},this.NavChild=function(e,t,s){const i=e||window.event;if(13==i.keyCode)return!0;if(!this.ProcessKeys(i))return!1;if(38==this.lastKey)if(s>0){const e=s-1;document.getElementById("Item"+t+"_c"+e).focus()}else document.getElementById("Item"+t).focus();else if(40==this.lastKey){const e=s+1;let i=document.getElementById("Item"+t+"_c"+e);i||(i=this.NavNext(t+1)),i&&i.focus()}else if(27==this.lastKey)i.stopPropagation(),searchBox.CloseResultsWindow(),document.getElementById("MSearchField").focus();else if(13==this.lastKey)return!0;return!1}}function createResults(e){function t(e,t){e.setAttribute("onkeydown",t),e.setAttribute("onkeypress",t),e.setAttribute("onkeyup",t)}function s(e,t){e.setAttribute("class",t),e.setAttribute("className",t)}const i=document.getElementById("SRResults");i.innerHTML="",searchData.forEach(((n,o)=>{const l=n[0],c=document.createElement("div");c.setAttribute("id","SR_"+l),s(c,"SRResult");const a=document.createElement("div");s(a,"SREntry");const h=document.createElement("a");if(h.setAttribute("id","Item"+o),t(h,"return searchResults.Nav(event,"+o+")"),s(h,"SRSymbol"),h.innerHTML=n[1][0],a.appendChild(h),2==n[1].length){h.setAttribute("href",e+n[1][1][0]),h.setAttribute("onclick","searchBox.CloseResultsWindow()"),n[1][1][1]?h.setAttribute("target","_parent"):h.setAttribute("target","_blank");const t=document.createElement("span");s(t,"SRScope"),t.innerHTML=n[1][1][2],a.appendChild(t)}else{h.setAttribute("href",'javascript:searchResults.Toggle("SR_'+l+'")');const i=document.createElement("div");s(i,"SRChildren");for(let l=0;l<n[1].length-1;l++){const c=document.createElement("a");c.setAttribute("id","Item"+o+"_c"+l),t(c,"return searchResults.NavChild(event,"+o+","+l+")"),s(c,"SRScope"),c.setAttribute("href",e+n[1][l+1][0]),c.setAttribute("onclick","searchBox.CloseResultsWindow()"),n[1][l+1][1]?c.setAttribute("target","_parent"):c.setAttribute("target","_blank"),c.innerHTML=n[1][l+1][2],i.appendChild(c)}a.appendChild(i)}c.appendChild(a),i.appendChild(c)}))}function init_search(){const e=document.getElementById("MSearchSelectWindow");e.tabIndex=0;for(let o in indexSectionLabels){const t=document.createElement("a");t.setAttribute("class","SelectItem"),t.setAttribute("onclick","searchBox.OnSelectItem("+o+")"),t.href="javascript:void(0)",t.innerHTML='<span class="SelectionMark">&#160;</span>'+indexSectionLabels[o],e.appendChild(t)}const t=document.getElementById("MSearchSelect"),s=document.getElementById("MSearchSelectWindow");t.tabIndex=0,t.addEventListener("keydown",(function(e){13!=e.keyCode&&40!=e.keyCode||(e.preventDefault(),"block"==s.style.display?searchBox.CloseSelectionWindow():(searchBox.OnSearchSelectShow(),searchBox.DOMSearchSelectWindow().focus()))}));const i=Cookie.readSetting("search_grp",0),n=searchBox.GetSelectionIdByName(i);searchBox.OnSelectItem(n)}